context.modules = [
{   name = libpipewire-module-combine-stream
    args = {
        node.name = "mono"
        node.description = "Mono"
        combine.props = {
            audio.position = [ MONO ]
        }
        stream.rules = [
            {   matches = [
                    {   media.class = "Audio/Sink"
                        node.name = "alsa_output.pci-0000_2f_00.1.hdmi-stereo-extra4"
                    } ]
                actions = { create-stream = {
                    combine.audio.position = [ MONO ]
                    audio.position = [ FR ]
                } } }
            {   matches = [
                    {   media.class = "Audio/Sink"
                        node.name = "alsa_output.pci-0000_2f_00.1.hdmi-stereo-extra3"
                    } ]
                actions = { create-stream = {
                    combine.audio.position = [ MONO ]
                    audio.position = [ FL ]
                } } }
        ]
    }
},
{   name = libpipewire-module-combine-stream
    args = {
        node.name = "combined"
        node.description = "Combined"
        combine.props = {
            audio.position = [ FL FR ]
        }
        stream.rules = [
            {   matches = [
                    {   media.class = "Audio/Sink"
                        node.name = "alsa_output.pci-0000_31_00.4.analog-stereo"
                    } ]
                actions = { create-stream = {
                    combine.audio.position = [ FL FR ]
                    audio.position = [ FL FR ]
                } } }
            {   matches = [
                    {   media.class = "Audio/Sink"
                        node.name = "mono"
                    } ]
                actions = { create-stream = {
                    combine.audio.position = [ FL FR ]
                    audio.position = [ FL FR ]
                } } }
            {   matches = [
                    {   media.class = "Audio/Sink"
                        node.name = "alsa_output.pci-0000_2f_00.1.hdmi-stereo-extra4"
                    } ]
                actions = { create-stream = {
                    combine.audio.position = [ FL ]
                    audio.position = [ FL ]
                } } }
            {   matches = [
                    {   media.class = "Audio/Sink"
                        node.name = "alsa_output.pci-0000_2f_00.1.hdmi-stereo-extra3"
                    } ]
                actions = { create-stream = {
                    combine.audio.position = [ FR ]
                    audio.position = [ FR ]
                } } }
        ]
    }
}
]
